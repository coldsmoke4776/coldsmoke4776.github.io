---
import BaseLayout from "../layouts/BaseLayout.astro";
import roadmap from "../data/roadmap.json";

// Use semantic badge styles that match site theme tokens
const statusBadge = (status) => {
  if (status === "complete") {
    return '<span class="px-2 py-0.5 text-xs font-medium rounded-full bg-success-100 text-success-800">Complete</span>';
  }
  if (status === "in-progress") {
    return '<span class="px-2 py-0.5 text-xs font-medium rounded-full bg-warning-100 text-warning-800">In Progress</span>';
  }
  return '<span class="px-2 py-0.5 text-xs font-medium rounded-full bg-neutral-200 text-neutral-700">Planned</span>';
};
---

<BaseLayout title="Skills Roadmap">
  <section class="container mx-auto px-6 py-12 prose prose-lg">
    <h1 class="mb-4">Proficiency Roadmap</h1>
    <blockquote class="italic text-lg text-gray-600 border-l-4 border-gray-400 pl-4 mb-8">
      The way to kill imposter syndrome is with proof. Hereâ€™s mine.
    </blockquote>

    {roadmap.map((section) => (
      <div class="mb-12">
        <h2 class="text-2xl font-semibold mb-6">{section.category}</h2>
        <div class="grid gap-6">
          {section.items.map((item) => (
            <div class="p-6 rounded-xl border border-gray-200 shadow-sm bg-white flex flex-col md:flex-row justify-between items-start md:items-center transition-transform transform hover:-translate-y-1 hover:shadow-lg">
              <div class="flex flex-col md:flex-row md:items-center gap-3">
                <span class="font-medium text-lg">{item.name}</span>
                <span set:html={statusBadge(item.status)} />
              </div>
              {item.repo ? (
                <a
                  href={item.repo}
                  target="_blank"
                  class="mt-3 md:mt-0 inline-block bg-primary text-white text-sm px-4 py-2 rounded-lg hover:bg-primary-dark"
                >
                  View Repo
                </a>
              ) : null}
            </div>
          ))}
        </div>
      </div>
    ))}
  </section>
</BaseLayout>
